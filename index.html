
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>English coach</title>
    <style>
        ul {
            list-style-type: none;
        }
    </style>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
  <!-- Import the React, React-Dom and Babel libraries from unpkg -->
    <script type="application/javascript" src="https://unpkg.com/react@18.3.1/umd/react.production.min.js"></script>
    <script type="application/javascript" src="https://unpkg.com/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
    <script type="application/javascript" src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
  </head>

  <body>
    <div id="root"></div>
  
    <script type="text/babel">
        const rootElement = document.getElementById('root')

        class FactRow {
            constructor(required, options, ending) {
                this.required = required
                this.options = options
                this.ending = ending
            }
        }

        class Topic {
            constructor(name, facts) {
            this.name = name
            this.facts = facts
            }
        }

        const data = [
            new Topic("GERUNDS AND INFINITIVES", [
                new FactRow(["I (attempt|learn)"], ["attempt learning"], "English"),
                new FactRow(["I (attempt|learn) '"], ["attempt to learn"], "English"),
                new FactRow(["I (begin|learn)"], ["begin learning"], "English"),
                new FactRow(["I (begin|learn) '"], ["begin to learn"], "English"),
                new FactRow(["I (can bear|learn)"], ["can bear learning"], "English"),
                new FactRow(["I (can bear|learn) '"], ["can bear to learn"], "English"),
                new FactRow(["I (can stand|learn)"], ["can stand learning"], "English"),
                new FactRow(["I (can stand|learn) '"], ["can stand to learn"], "English"),
                new FactRow(["I (cease|learn)"], ["cease learning"], "English"),
                new FactRow(["I (cease|learn) '"], ["cease to learn"], "English"),
                new FactRow(["I (continue|learn)"], ["continue learning"], "English"),
                new FactRow(["I (continue|learn) '"], ["continue to learn"], "English"),
                new FactRow(["I (forget|learn)"], ["forget learning"], "English"),
                new FactRow(["I (forget|learn) '"], ["forget to learn"], "English"),
                new FactRow(["I (go on|learn)"], ["go on learning"], "English"),
                new FactRow(["I (go on|learn) '"], ["go on to learn"], "English"),
                new FactRow(["I (hate|learn)"], ["hate learning"], "English"),
                new FactRow(["I (hate|learn) '"], ["hate to learn"], "English"),
                new FactRow(["I (like|learn)"], ["like learning"], "English"),
                new FactRow(["I (like|learn) '"], ["like to learn"], "English"),
                new FactRow(["I (love|learn)"], ["love learning"], "English"),
                new FactRow(["I (love|learn) '"], ["love to learn"], "English"),
                new FactRow(["I (neglect|learn)"], ["neglect learning"], "English"),
                new FactRow(["I (neglect|learn) '"], ["neglect to learn"], "English"),
                new FactRow(["I (prefer|learn)"], ["prefer learning"], "English"),
                new FactRow(["I (prefer|learn) '"], ["prefer to learn"], "English"),
                new FactRow(["I (regret|learn)"], ["regret learning"], "English"),
                new FactRow(["I (regret|learn) '"], ["regret to learn"], "English"),
                new FactRow(["I (propose|learn)"], ["propose learning"], "English"),
                new FactRow(["I (propose|learn) '"], ["propose to learn"], "English"),
                new FactRow(["I (remember|learn)"], ["remembe learningr"], "English"),
                new FactRow(["I (remember|learn) '"], ["remember to learn"], "English"),
                new FactRow(["I (see|learn)"], ["see learning"], "English"),
                new FactRow(["I (see|learn) '"], ["see to learn"], "English"),
                new FactRow(["I (start|learn)"], ["start learning"], "English"),
                new FactRow(["I (start|learn) '"], ["start to learn"], "English"),
                new FactRow(["I (stop|learn)"], ["stop learning"], "English"),
                new FactRow(["I (stop|learn) '"], ["stop to learn"], "English"),
                new FactRow(["I (try|learn)"], ["try learning"], "English"),
                new FactRow(["I (try|learn) '"], ["try to learn"], "English"),

                new FactRow(["I (agree|learn)"], ["agree to learn"], "English"),
                new FactRow(["I (aim|learn)"], ["aim to learn"], "English"),
                new FactRow(["I (afford|learn)"], ["afford to learn"], "English"),
                new FactRow(["I (appear|learn)"], ["appear to learn"], "English"),
                new FactRow(["I (arrange|learn)"], ["arrange to learn"], "English"),
                new FactRow(["I (ask|learn)"], ["ask to learn"], "English"),
                new FactRow(["I (care|learn)"], ["care to learn"], "English"),
                new FactRow(["I (choose|learn)"], ["choose to learn"], "English"),
                new FactRow(["I (claim|learn)"], ["claim to learn"], "English"),
                new FactRow(["I (consent|learn)"], ["consent to learn"], "English"),
                new FactRow(["I (dare|learn)"], ["dare to learn"], "English"),
                new FactRow(["I (decide|learn)"], ["decide to learn"], "English"),
                new FactRow(["I (decline|learn)"], ["decline to learn"], "English"),
                new FactRow(["I (demand|learn)"], ["demand to learn"], "English"),
                new FactRow(["I (deserve|learn)"], ["deserve to learn"], "English"),
                new FactRow(["I (desire|learn)"], ["desire to learn"], "English"),
                new FactRow(["I (expect|learn)"], ["expect to learn"], "English"),
                new FactRow(["I (fail|learn)"], ["fail to learn"], "English"),
                new FactRow(["I (guarantee|learn)"], ["guarantee to learn"], "English"),
                new FactRow(["I (happen|learn)"], ["happen to learn"], "English"),
                new FactRow(["I (hope|learn)"], ["hope to learn"], "English"),
                new FactRow(["I (intend|learn)"], ["intend to learn"], "English"),
                new FactRow(["I (know|learn)"], ["know to learn"], "English"),
                new FactRow(["I (learn|learn)"], ["learn to learn"], "English"),
                new FactRow(["I (manage|learn)"], ["manage to learn"], "English"),
                new FactRow(["I (need|learn)"], ["need to learn"], "English"),
                new FactRow(["I (offer|learn)"], ["offer to learn"], "English"),
                new FactRow(["I (plan|learn)"], ["plan to learn"], "English"),
                new FactRow(["I (pledge|learn)"], ["pledge to learn"], "English"),
                new FactRow(["I (prepare|learn)"], ["prepare to learn"], "English"),
                new FactRow(["I (pretend|learn)"], ["pretend to learn"], "English"),
                new FactRow(["I (promise|learn)"], ["promise to learn"], "English"),
                new FactRow(["I (refuse|learn)"], ["refuse to learn"], "English"),
                new FactRow(["I (resolve|learn)"], ["resolve to learn"], "English"),
                new FactRow(["I (seem|learn)"], ["seem to learn"], "English"),
                new FactRow(["I (tend|learn)"], ["tend to learn"], "English"),
                new FactRow(["I (struggle|learn)"], ["struggle to learn"], "English"),
                new FactRow(["I (swear|learn)"], ["swear to learn"], "English"),
                new FactRow(["I (volunteer|learn)"], ["volunteer to learn"], "English"),
                new FactRow(["I (wait|learn)"], ["wait to learn"], "English"),
                new FactRow(["I (want|learn)"], ["want to learn"], "English"),
                new FactRow(["I (wish|learn)"], ["wish to learn"], "English"),
                new FactRow(["I (would like|learn)"], ["would like to learn"], "English"),

                new FactRow(["I (accustomed|learn)"], ["am accustomed to learning"], "English"),
                new FactRow(["I (afraid|learn)"], ["am afraid of learning"], "English"),
                new FactRow(["I (angry|learn)"], ["am angry about learning"], "English"),
                new FactRow(["I (ashamed|learn)"], ["am ashamed of learning"], "English"),
                new FactRow(["I (capable|learn)"], ["am capable of learning"], "English"),
                new FactRow(["I (certain|learn)"], ["am certain about learning"], "English"),
                new FactRow(["I (concerned|learn)"], ["am concerned with learning"], "English"),
                new FactRow(["I (critical|learn)"], ["am critical of learning"], "English"),
                new FactRow(["I (discouraged|learn)"], ["am discouraged from learning"], "English"),
                new FactRow(["I (enthusiastic|learn)"], ["am enthusiastic about learning"], "English"),
                new FactRow(["I (familiar|learn)"], ["am familiar with learning"], "English"),
                new FactRow(["I (famous|learn)"], ["am famous for learning"], "English"),
                new FactRow(["I (fond|learn)"], ["am fond of learning"], "English"),
                new FactRow(["I (glad|learn)"], ["am glad about learning"], "English"),
                new FactRow(["I (good|learn)"], ["am good at learning"], "English"),
                new FactRow(["I (happy|learn)"], ["am happy about learning"], "English"),
                new FactRow(["I (interested|learn)"], ["am interested in learning"], "English"),
                new FactRow(["I (known|learn)"], ["am known for learning"], "English"),
                new FactRow(["I (nervous|learn)"], ["am nervous about learning"], "English"),
                new FactRow(["I (perfect|learn)"], ["am perfect for learning"], "English"),
                new FactRow(["I (proud|learn)"], ["am proud of learning"], "English"),
                new FactRow(["I (responsible|learn)"], ["am responsible for learning"], "English"),
                new FactRow(["I (sad|learn)"], ["am sad about learning"], "English"),
                new FactRow(["I (successful|learn)"], ["am successful in learning"], "English"),
                new FactRow(["I (suitable|learn)"], ["am suitable for learning"], "English"),
                new FactRow(["I (tired|learn)"], ["am tired of learning"], "English"),
                new FactRow(["I (tolerant|learn)"], ["am tolerant of learning"], "English"),
                new FactRow(["I (upset|learn)"], ["am upset about learning"], "English"),
                new FactRow(["I (useful|learn)"], ["am useful for learning"], "English"),
                new FactRow(["I (worried|learn)"], ["am worried about learning"], "English"),

                new FactRow(["I (adapt|learn)"], ["adapt to learning"], "English"),
                new FactRow(["I (adjust|learn)"], ["adjust to learning"], "English"),
                new FactRow(["I (agree|learn) '"], ["agree on learning"], "English"),
                new FactRow(["I (apologize|learn)"], ["apologize for learning"], "English"),
                new FactRow(["I (approve|learn)"], ["approve of learning"], "English"),
                new FactRow(["I (argue|learn)"], ["argue about learning"], "English"),
                new FactRow(["I (ask|learn)"], ["ask about learning"], "English"),
                new FactRow(["I (believe|learn)"], ["believe in learning"], "English"),
                new FactRow(["I (blame|learn)"], ["blame for learning"], "English"),
                new FactRow(["I (care|learn)"], ["care about learning"], "English"),
                new FactRow(["I (complain|learn)"], ["complain about learning"], "English"),
                new FactRow(["I (consist|learn)"], ["consist of learning"], "English"),
                new FactRow(["I (decide|learn)"], ["decide on learning"], "English"),
                new FactRow(["I (depend|learn)"], ["depend on learning"], "English"),
                new FactRow(["I (disapprove|learn)"], ["disapprove of learning"], "English"),
                new FactRow(["I (discourage|learn)"], ["discourage from learning"], "English"),
                new FactRow(["I (engage|learn)"], ["engage in learning"], "English"),
                new FactRow(["I (forgive|learn)"], ["forgive for learning"], "English"),
                new FactRow(["I (give up|learn)"], ["give up learning"], "English"),
                new FactRow(["I (help|learn)"], ["help with learning"], "English"),
                new FactRow(["I (inquire|learn)"], ["inquire about learning"], "English"),
                new FactRow(["I (insist|learn)"], ["insist on learning"], "English"),
                new FactRow(["I (interfere|learn)"], ["interfere with learning"], "English"),
                new FactRow(["I (look forward|learn)"], ["look forward to learning"], "English"),
                new FactRow(["I (object|learn)"], ["object to learning"], "English"),
                new FactRow(["I (participate|learn)"], ["participate in learning"], "English"),
                new FactRow(["I (persist|learn)"], ["persist in learning"], "English"),
                new FactRow(["I (plan|learn) '"], ["plan on learning"], "English"),
                new FactRow(["I (prepare|learn)"], ["prepare for learning"], "English"),
                new FactRow(["I (profit|learn)"], ["profit from learning"], "English"),
                new FactRow(["I (prohibit|learn)"], ["prohibit from learning"], "English"),
                new FactRow(["I (put|learn)"], ["put off learning"], "English"),
                new FactRow(["I (result|learn)"], ["result from learning"], "English"),
                new FactRow(["I (succeed|learn)"], ["succeed in learning"], "English"),
                new FactRow(["I (suffer|learn)"], ["suffer from learning"], "English"),
                new FactRow(["I (talk|learn)"], ["talk about learning"], "English"),
                new FactRow(["I (take part|learn)"], ["take part in learning"], "English"),
                new FactRow(["I (think|learn)"], ["think about learning"], "English"),
                new FactRow(["There's no point (learn)"], ["in learning"], "English"),
                new FactRow(["I (warn|learn)"], ["warn about learning"], "English"),
                new FactRow(["I (work|learn)"], ["work on learning"], "English"),
                new FactRow(["I (worry|learn)"], ["worry about learning"], "English"),

                new FactRow(["I (acknowledge|learn)"], ["acknowledge learning"], "English"),
                new FactRow(["I (admit|learn)"], ["admit learning"], "English"),
                new FactRow(["I (advise|learn)"], ["advise learning"], "English"),
                new FactRow(["I (anticipate|learn)"], ["anticipate learning"], "English"),
                new FactRow(["I (appreciate|learn)"], ["appreciate learning"], "English"),
                new FactRow(["I (avoid|learn)"], ["avoid learning"], "English"),
                new FactRow(["I (consider|learn)"], ["consider learning"], "English"),
                new FactRow(["I (defend|learn)"], ["defend learning"], "English"),
                new FactRow(["I (defer|learn)"], ["defer learning"], "English"),
                new FactRow(["I (delay|learn)"], ["delay learning"], "English"),
                new FactRow(["I (deny|learn)"], ["deny learning"], "English"),
                new FactRow(["I (detest|learn)"], ["detest learning"], "English"),
                new FactRow(["I (discuss|learn)"], ["discuss learning"], "English"),
                new FactRow(["I (dislike|learn)"], ["dislike learning"], "English"),
                new FactRow(["I (endure|learn)"], ["endure learning"], "English"),
                new FactRow(["I (enjoy|learn)"], ["enjoy learning"], "English"),
                new FactRow(["I (escape|learn)"], ["escape learning"], "English"),
                new FactRow(["I (excuse|learn)"], ["excuse learning"], "English"),
                new FactRow(["I (feel like|learn)"], ["feel like learning"], "English"),
                new FactRow(["I (finish|learn)"], ["finish learning"], "English"),
                new FactRow(["I (go|learn)"], ["go learning"], "English"),
                new FactRow(["I (imagine|learn)"], ["imagine learning"], "English"),
                new FactRow(["I (involve|learn)"], ["involve learning"], "English"),
                new FactRow(["I (keep|learn) '"], ["keep learning"], "English"),
                new FactRow(["I (mention|learn)"], ["mention learning"], "English"),
                new FactRow(["I (mind|learn)"], ["mind learning"], "English"),
                new FactRow(["I (miss|learn)"], ["miss learning"], "English"),
                new FactRow(["I (omit|learn)"], ["omit learning"], "English"),
                new FactRow(["I (postpone|learn)"], ["postpone learning"], "English"),
                new FactRow(["I (practice|learn)"], ["practice learning"], "English"),
                new FactRow(["I (prevent|learn)"], ["prevent learning"], "English"),
                new FactRow(["I (quit|learn)"], ["quit learning"], "English"),
                new FactRow(["I (recall|learn)"], ["recall learning"], "English"),
                new FactRow(["I (recollect|learn)"], ["recollect learning"], "English"),
                new FactRow(["I (recommend|learn)"], ["recommend learning"], "English"),
                new FactRow(["I (resent|learn)"], ["resent learning"], "English"),
                new FactRow(["I (resist|learn)"], ["resist learning"], "English"),
                new FactRow(["I (resume|learn)"], ["resume learning"], "English"),
                new FactRow(["I (risk|learn)"], ["risk learning"], "English"),
                new FactRow(["I (suggest|learn)"], ["suggest learning"], "English"),
                new FactRow(["I (tolerate|learn)"], ["tolerate learning"], "English"),
                new FactRow(["I (understand|learn)"], ["understand learning"], "English"),
            ]),
        ];

        var activeTopics = new Set(data)

        

        // var currentTopic = Math.floor(Math.random() * activeTopics.size);

        class TopicComponent extends React.Component {
            constructor(props) {
                super(props)

                this.state = {
                    currentTopic: Math.floor(Math.random() * activeTopics.size),
                    allTopics: props.topics,
                    activeTopics: new Set(props.topics),
                    countTrue: 0,
                    countFalse: 0,
                    previous: "",
                }

                this.onNextClick = this.onNextClick.bind(this);
                this.onInputChange = this.onInputChange.bind(this);
                this.onTopicSelected = this.onTopicSelected.bind(this);
            }

            onInputChange(desired) {
                var self = this
                return function(e){
                    if (desired == e.target.value) {
                        self.goNext(true)
                    }
                }
            }

            onTopicSelected(topic) {
                var self = this
                return function(e) {

                    if (self.state.activeTopics.has(topic)) {
                        if (self.state.activeTopics.size == 1) return
                        self.state.activeTopics.delete(topic)
                    } else {
                        self.state.activeTopics.add(topic)
                    }

                    self.state.currentTopic = Math.floor(Math.random() * self.state.activeTopics.size)

                    self.setState(self.state)
                }
            }

            onNextClick() {
                this.goNext(false)
            }

            render() {
                const active = this.state.activeTopics
                const list = [...active]

                const topic = list[this.state.currentTopic]
                const fact = topic.facts[Math.floor(Math.random() * topic.facts.length)]

                const question = Math.floor(Math.random() * fact.options.length)

                const optionsDisplay = fact.options.map((x, i) => <i> { question != i ? x : <input name="answer" onChange={this.onInputChange(x)} autoFocus defaultValue="" ref={el => this.mainInput = el}/>} </i>)

                this.currentLine = `[${topic.name}] ${"".concat(...fact.required.map(x => " " + x))} ${"".concat(...fact.options.map(x => " " + x))} ${fact.ending}`

                return <div class="topic-component container">
                    <div  class="mb-3">
                        <h1>{topic.name}</h1>

                        {fact.required.map(x => <b> {x} </b>)}

                        {optionsDisplay}

                        <b> {fact.ending} </b>
                    </div>

                    <div class="card text-bg-light mb-3">
                        <div class="card-header">Previous</div>
                        <div class="card-body">
                            <p class="card-text">{this.state.previous}</p>
                        </div>
                    </div>

                    <button type="button" class="btn btn-primary" onClick={this.onNextClick}>
                        Next
                    </button>

                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                        </svg>:{this.state.countTrue}
                        <i> </i>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-slash-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708"/>
                        </svg>:{this.state.countFalse}
                    </div>
                
                    <ul class="list-group">
                        {data.map(t => <li class="list-group-item"><input class="form-check-input" type="checkbox" id={t.name} onChange={this.onTopicSelected(t)} defaultChecked={this.state.activeTopics.has(t)}/><label class="form-check-label" for={t.name}>{t.name}</label></li>)}
                    </ul>
                </div>
            }

            goNext(isCorrect) {
                this.mainInput.value = "";

                this.state.currentTopic = Math.floor(Math.random() * this.state.activeTopics.size)
                this.state.previous = this.currentLine
                if (isCorrect) {
                    this.state.countTrue ++
                } else {
                    this.state.countFalse ++
                }
                this.setState(this.state)
            }
        }
      
        function App(){
            return(
            <div>
                <TopicComponent topics={data} />
            </div>
            )
        }

        ReactDOM.render(
            <App />,
            rootElement
        )
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
  </body>

</html>
